# Тестовое задание
## Описание
Время выполнения: ~11 часов  
Выполнял на локальном сервере на Windows и с MySQL, т.к. само выполнение этого тестового задания на Laravel не зависит от ОС или БД. Веб-сервера на Linux (в том числе и Nginx, PHP-FPM) администрировал, опыт работы с командной строкой есть.  
При выполнении учитывал, что это тестовое задание, поэтому старался где-то показать разнообразный подход (например, в деталях unit-тестирования).  
Для решения задачи равномерного распределения использовал два сторонних алгоритма (с небольшим приведением к особенностям проекта). Алгоритмы дают одинаковый результат, не идеальный, но приближенный к искомому. Начинал писать свой, но решил, что в рамках тестового задания написание алгоритма не основная задача, а лучше закончить, чем растягивать время в поиске идеального решения.  
При разработке применял подход TDD - сначала тесты, потом приложение. (верстка независимо от тестов)  
Не использовал JavaScript, использовал версию Twitter Bootstrap от Laravel (v3.3.7, но чуть приятней внешний вид).

## Установка
1. Подготовить окружение для запуска Laravel 5.4
2. Скачать архив или склонировать репозиторий в соответствующую директорию на сервер, где будет запускаться тестовое задание
4. Подготовить файл ".env" с настройками подключения к соответствующей БД
5. Внести необходимые настройки для использования Postgres
6. Выполнить в директории команду:
```bash
composer install
```
7. Выполнить в директории команду:
```bash
php artisan migrate
```

## Тестирование
1. Для запуска тестирования, необходимо добавить в .env соответствующие настройки БД для тестирования:  
DB_DATABASE_TESTING  
DB_USERNAME_TESTING  
DB_PASSWORD_TESTING  
Также можно полностью сменить БД и настройки в config/database.php (и указать соответствующий ключ в phpunit.xml на строке 30 в настройке "DB_CONNECTION").
2. После настройки БД для тестирования необходимо выполнить команду:
```bash
php artisan migrate:refresh --database=mysql_testing
```
(при необходимости заменить "mysql_testing" на соответствующий ключ)
3. Запуск стандартно:
```bash
phpunit
```
или, при отсутствии,
```bash
php vendor\phpunit\phpunit\phpunit
```